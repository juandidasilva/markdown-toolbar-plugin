<idea-plugin>
  <id>com.example.markdown.gfm.toolbar</id>
  <name>Markdown GFM Toolbar</name>
  <vendor email="you@example.com">You</vendor>
  <version>0.1.0</version>
  <idea-version since-build="231" until-build="999.*"/>
  <depends>com.intellij.modules.platform</depends>
  <depends optional="true">org.intellij.plugins.markdown</depends>

  <extensions defaultExtensionNs="com.intellij">
    <editorFloatingToolbarProvider implementation="com.example.mdgfm.MarkdownToolbarProvider"/>
    <editorFloatingToolbarProvider implementation="com.example.mdgfm.PRToolbarProvider"/>
    <projectService serviceImplementation="com.example.mdgfm.core.BatchService"/>
  </extensions>

  <actions>
    <!-- Action definitions -->
    <action id="MDGFM.Bold" class="com.example.mdgfm.actions.BoldAction" text="Bold" icon="/icons/bold.svg"/>
    <action id="MDGFM.Italic" class="com.example.mdgfm.actions.ItalicAction" text="Italic" icon="/icons/italic.svg"/>
    <action id="MDGFM.Strike" class="com.example.mdgfm.actions.StrikeAction" text="Strike" icon="/icons/strike.svg"/>
    <action id="MDGFM.InlineCode" class="com.example.mdgfm.actions.InlineCodeAction" text="Code" icon="/icons/code.svg"/>
    <action id="MDGFM.Suggestion" class="com.example.mdgfm.actions.SuggestionAction" text="Suggestion" icon="/icons/suggestion.svg"/>
    <action id="MDGFM.TaskList" class="com.example.mdgfm.actions.TaskListAction" text="Task List" icon="/icons/task.svg"/>
    <action id="MDGFM.Heading" class="com.example.mdgfm.actions.HeadingCycleAction" text="Heading" icon="/icons/h1.svg"/>
    <action id="MDGFM.BulletList" class="com.example.mdgfm.actions.BulletListAction" text="Bulleted" icon="/icons/list-bullet.svg"/>
    <action id="MDGFM.OrderedList" class="com.example.mdgfm.actions.OrderedListAction" text="Ordered" icon="/icons/list-ordered.svg"/>
    <action id="MDGFM.Quote" class="com.example.mdgfm.actions.QuoteAction" text="Quote" icon="/icons/quote.svg"/>
    <action id="MDGFM.Table" class="com.example.mdgfm.actions.TableAction" text="Table" icon="/icons/table.svg"/>
    <action id="MDGFM.Link" class="com.example.mdgfm.actions.LinkAction" text="Link" icon="/icons/link.svg"/>
    <action id="MDGFM.Mermaid" class="com.example.mdgfm.actions.MermaidAction" text="Mermaid" icon="/icons/mermaid.svg"/>
    <action id="MDGFM.Details" class="com.example.mdgfm.actions.DetailsAction" text="Details" icon="/icons/details.svg"/>
    <action id="MDGFM.CodeBlock" class="com.example.mdgfm.actions.CodeBlockAction" text="Code Block" icon="/icons/codeblock.svg"/>
    <action id="MDGFM.DiffBlock" class="com.example.mdgfm.actions.DiffBlockAction" text="Diff" icon="/icons/diff.svg"/>

    <!-- Groups for Markdown editors -->
    <group id="MDGFM.Toolbar.Markdown" text="Markdown Toolbar" popup="false">
      <action id="MDGFM.Bold"/>
      <action id="MDGFM.Italic"/>
      <action id="MDGFM.Strike"/>
      <action id="MDGFM.InlineCode"/>
      <action id="MDGFM.Suggestion"/>
      <action id="MDGFM.TaskList"/>
      <action id="MDGFM.Heading"/>
      <action id="MDGFM.BulletList"/>
      <action id="MDGFM.OrderedList"/>
      <action id="MDGFM.Quote"/>
      <action id="MDGFM.Table"/>
      <action id="MDGFM.Link"/>
      <action id="MDGFM.Mermaid"/>
      <action id="MDGFM.Details"/>
      <action id="MDGFM.CodeBlock"/>
      <action id="MDGFM.DiffBlock"/>
    </group>

    <!-- Groups for PR comment editors -->
    <group id="MDGFM.Toolbar.PR.More" text="More" popup="true" icon="/icons/more.svg">
      <action id="MDGFM.TaskList"/>
      <action id="MDGFM.Heading"/>
      <action id="MDGFM.BulletList"/>
      <action id="MDGFM.OrderedList"/>
      <action id="MDGFM.Quote"/>
      <action id="MDGFM.Table"/>
      <action id="MDGFM.Link"/>
      <action id="MDGFM.Mermaid"/>
      <action id="MDGFM.Details"/>
      <action id="MDGFM.CodeBlock"/>
      <action id="MDGFM.DiffBlock"/>
    </group>

    <group id="MDGFM.Toolbar.PR.Primary" text="Markdown PR Toolbar" popup="false">
      <action id="MDGFM.Bold"/>
      <action id="MDGFM.Italic"/>
      <action id="MDGFM.Strike"/>
      <action id="MDGFM.InlineCode"/>
      <action id="MDGFM.Suggestion"/>
      <separator/>
      <reference id="MDGFM.Toolbar.PR.More"/>
    </group>
  </actions>
</idea-plugin>
